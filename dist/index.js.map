{"version":3,"file":"index.js","sources":["../src/emoji/index.js","../src/icon-provider/Icon.js"],"sourcesContent":["import React from 'react';\nimport data from 'emoji-mart/data/emojione.json';\nimport { NimbleEmojiIndex } from 'emoji-mart';\n\nlet emojiIndex = new NimbleEmojiIndex(data);\n\nexport async function getCustomEmojis() {\n  return [\n    {\n      name: 'Octocat',\n      short_names: ['octocat'],\n      text: '',\n      emoticons: [],\n      keywords: ['github'],\n      imageUrl: 'https://assets-cdn.github.com/images/icons/emoji/octocat.png?v7'\n    },\n    {\n      name: 'Parrot',\n      short_names: ['parrot'],\n      text: '',\n      emoticons: [],\n      keywords: ['parrot'],\n      imageUrl: 'https://cultofthepartyparrot.com/parrots/hd/parrot.gif'\n    }\n  ];\n}\n\nexport async function getCustomEmoji(key) {\n  const emojis = await getCustomEmojis();\n  return emojis.find(emoji => {\n    return emoji.short_names.includes(key);\n  });\n}\n\nexport function searchEmoji(code) {\n  console.log('emojiIndex', emojiIndex); //TRACE\n  return emojiIndex.search(code);\n}","import React from 'react';\nimport { Emoji } from 'emoji-mart';\nimport { searchEmoji, getCustomEmoji } from '../emoji';\nimport get from 'lodash/get';\n\nconst trimRegex = new RegExp(`^[:]+|[:]+$`, 'g');\nconst LOADING_EMOJI = {\n  name: 'Loader',\n  short_names: ['gif_loader'],\n  text: '',\n  emoticons: [],\n  keywords: [],\n  imageUrl:\n    'https://storage.sustainatrade.com/file/eco-trade-assets/0a938baac1613a29309e162e229bf727a6e933c6.gif'\n};\nfunction CustomEmoji({ emoji, ...rest }) {\n  const [emojiData, setEmojiData] = React.useState(null);\n  React.useEffect(\n    () => {\n      (async () => {\n        const emojiCode = emoji.replace(trimRegex, '');\n        const eData = await getCustomEmoji(emojiCode);\n        console.log('eData', eData); //TRACE\n        setEmojiData(eData);\n      })();\n    },\n    [emoji]\n  );\n  return <Emoji {...rest} emoji={emojiData || LOADING_EMOJI} />;\n}\n\nfunction EmojiWithCustomFallback(props) {\n  return (\n    <Emoji\n      {...props}\n      fallback={() => {\n        //Try custom\n        return <CustomEmoji {...props} />;\n      }}\n    />\n  );\n}\n\nexport default function Iconify({ type, emojiStyle, ...rest }) {\n  console.log('type', type); //TRACE\n  // const data = searchEmoji(emojiCode);\n  // console.log('emoji data', data); //TRACE\n  return (\n    <span {...rest}>\n      <EmojiWithCustomFallback emoji={type} set=\"emojione\" size={16} style={emojiStyle} />\n    </span>\n  );\n}"],"names":["emojiIndex","NimbleEmojiIndex","data","getCustomEmojis","key","emojis","find","emoji","short_names","includes","getCustomEmoji","searchEmoji","code","log","search","trimRegex","RegExp","LOADING_EMOJI","CustomEmoji","rest","React","useState","emojiData","setEmojiData","useEffect","replace","emojiCode","eData","Emoji","EmojiWithCustomFallback","props","Iconify","type","emojiStyle"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAIA,aAAa,IAAIC,0BAAJ,CAAqBC,IAArB,CAAjB;;AAEA;oEAAO;;;;;6CACE,CACL;oBACQ,SADR;2BAEe,CAAC,SAAD,CAFf;oBAGQ,EAHR;yBAIa,EAJb;wBAKY,CAAC,QAAD,CALZ;wBAMY;aAPP,EASL;oBACQ,QADR;2BAEe,CAAC,QAAD,CAFf;oBAGQ,EAHR;yBAIa,EAJb;wBAKY,CAAC,QAAD,CALZ;wBAMY;aAfP,CADF;;;;;;;;GAAP;;kBAAsBC,eAAtB;;;;;AAqBA;qEAAO,kBAA8BC,GAA9B;;;;;;;mBACgBD,iBADhB;;;kBAAA;8CAEEE,OAAOC,IAAP,CAAY,iBAAS;qBACnBC,MAAMC,WAAN,CAAkBC,QAAlB,CAA2BL,GAA3B,CAAP;aADK,CAFF;;;;;;;;GAAP;;kBAAsBM,cAAtB;;;;;AAOA,AAAO,SAASC,WAAT,CAAqBC,IAArB,EAA2B;UACxBC,GAAR,CAAY,YAAZ,EAA0Bb,UAA1B,EADgC;SAEzBA,WAAWc,MAAX,CAAkBF,IAAlB,CAAP;;;;;;;;;AC/BF,IAAMG,YAAY,IAAIC,MAAJ,gBAA0B,GAA1B,CAAlB;AACA,IAAMC,gBAAgB;QACd,QADc;eAEP,CAAC,YAAD,CAFO;QAGd,EAHc;aAIT,EAJS;YAKV,EALU;YAOlB;CAPJ;AASA,SAASC,WAAT,OAAyC;;;MAAlBX,KAAkB,QAAlBA,KAAkB;MAARY,IAAQ;;wBACLC,MAAMC,QAAN,CAAe,IAAf,CADK;;MAChCC,SADgC;MACrBC,YADqB;;QAEjCC,SAAN,CACE,YAAM;2DACH;;;;;;uBAAA,GACmBjB,MAAMkB,OAAN,CAAcV,SAAd,EAAyB,EAAzB,CADnB;;qBAEqBL,eAAegB,SAAf,CAFrB;;;mBAAA;;sBAGSb,GAAR,CAAY,OAAZ,EAAqBc,KAArB,EAHD;2BAIcA,KAAb;;;;;;;;KAJF;GAFJ,EASE,CAACpB,KAAD,CATF;SAWO,oBAACqB,eAAD,eAAWT,IAAX,IAAiB,OAAOG,aAAaL,aAArC,IAAP;;;AAGF,SAASY,uBAAT,CAAiCC,KAAjC,EAAwC;SAEpC,oBAACF,eAAD,eACME,KADN;cAEY,oBAAM;;aAEP,oBAAC,WAAD,EAAiBA,KAAjB,CAAP;;KALN;;;AAWF,AAAe,SAASC,OAAT,QAAgD;MAA7BC,IAA6B,SAA7BA,IAA6B;MAAvBC,UAAuB,SAAvBA,UAAuB;MAARd,IAAQ;;UACrDN,GAAR,CAAY,MAAZ,EAAoBmB,IAApB,EAD6D;;;SAK3D;;QAAA;wBACG,uBAAD,IAAyB,OAAOA,IAAhC,EAAsC,KAAI,UAA1C,EAAqD,MAAM,EAA3D,EAA+D,OAAOC,UAAtE;GAFJ;;;;;;"}